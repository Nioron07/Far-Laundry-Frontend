{
  "version": 3,
  "sources": ["../../vuetify/src/components/VConfirmEdit/VConfirmEdit.tsx", "../../vuetify/src/labs/VDateInput/VDateInput.tsx"],
  "sourcesContent": ["// Components\nimport { VBtn } from '@/components/VBtn'\n\n// Composables\nimport { useLocale } from '@/composables'\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Utilities\nimport { computed, ref, toRaw, watchEffect } from 'vue'\nimport { deepEqual, genericComponent, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { Ref, VNode } from 'vue'\nimport type { GenericProps } from '@/util'\n\nexport type VConfirmEditSlots<T> = {\n  default: {\n    model: Ref<T>\n    save: () => void\n    cancel: () => void\n    isPristine: boolean\n    get actions (): VNode\n  }\n}\n\nexport const makeVConfirmEditProps = propsFactory({\n  modelValue: null,\n  color: String,\n  cancelText: {\n    type: String,\n    default: '$vuetify.confirmEdit.cancel',\n  },\n  okText: {\n    type: String,\n    default: '$vuetify.confirmEdit.ok',\n  },\n}, 'VConfirmEdit')\n\nexport const VConfirmEdit = genericComponent<new <T> (\n  props: {\n    modelValue?: T\n    'onUpdate:modelValue'?: (value: T) => void\n    'onSave'?: (value: T) => void\n  },\n  slots: VConfirmEditSlots<T>\n) => GenericProps<typeof props, typeof slots>>()({\n  name: 'VConfirmEdit',\n\n  props: makeVConfirmEditProps(),\n\n  emits: {\n    cancel: () => true,\n    save: (value: any) => true,\n    'update:modelValue': (value: any) => true,\n  },\n\n  setup (props, { emit, slots }) {\n    const model = useProxiedModel(props, 'modelValue')\n    const internalModel = ref()\n    watchEffect(() => {\n      internalModel.value = structuredClone(toRaw(model.value))\n    })\n\n    const { t } = useLocale()\n\n    const isPristine = computed(() => {\n      return deepEqual(model.value, internalModel.value)\n    })\n\n    function save () {\n      model.value = internalModel.value\n      emit('save', internalModel.value)\n    }\n\n    function cancel () {\n      internalModel.value = structuredClone(toRaw(model.value))\n      emit('cancel')\n    }\n\n    let actionsUsed = false\n    useRender(() => {\n      const actions = (\n        <>\n          <VBtn\n            disabled={ isPristine.value }\n            variant=\"text\"\n            color={ props.color }\n            onClick={ cancel }\n            text={ t(props.cancelText) }\n          />\n\n          <VBtn\n            disabled={ isPristine.value }\n            variant=\"text\"\n            color={ props.color }\n            onClick={ save }\n            text={ t(props.okText) }\n          />\n        </>\n      )\n      return (\n        <>\n          {\n            slots.default?.({\n              model: internalModel,\n              save,\n              cancel,\n              isPristine: isPristine.value,\n              get actions () {\n                actionsUsed = true\n                return actions\n              },\n            })\n          }\n\n          { !actionsUsed && actions }\n        </>\n      )\n    })\n\n    return {\n      save,\n      cancel,\n      isPristine,\n    }\n  },\n})\n\nexport type VConfirmEdit = InstanceType<typeof VConfirmEdit>\n", "// Components\nimport { makeVConfirmEditProps, VConfirmEdit } from '@/components/VConfirmEdit/VConfirmEdit'\nimport { makeVDatePickerProps, VDatePicker } from '@/components/VDatePicker/VDatePicker'\nimport { VMenu } from '@/components/VMenu/VMenu'\nimport { makeVTextFieldProps, VTextField } from '@/components/VTextField/VTextField'\n\n// Composables\nimport { useDate } from '@/composables/date'\nimport { makeFocusProps, useFocus } from '@/composables/focus'\nimport { useLocale } from '@/composables/locale'\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Utilities\nimport { computed, shallowRef } from 'vue'\nimport { genericComponent, omit, propsFactory, useRender, wrapInArray } from '@/util'\n\n// Types\nexport interface VDateInputSlots {\n  default: never\n}\n\nexport const makeVDateInputProps = propsFactory({\n  hideActions: Boolean,\n\n  ...makeFocusProps(),\n  ...makeVConfirmEditProps(),\n  ...makeVTextFieldProps({\n    placeholder: 'mm/dd/yyyy',\n    prependIcon: '$calendar',\n  }),\n  ...omit(makeVDatePickerProps({\n    weeksInMonth: 'dynamic' as const,\n    hideHeader: true,\n  }), ['active']),\n}, 'VDateInput')\n\nexport const VDateInput = genericComponent()({\n  name: 'VDateInput',\n\n  props: makeVDateInputProps(),\n\n  emits: {\n    'update:modelValue': (val: string) => true,\n  },\n\n  setup (props, { slots }) {\n    const { t } = useLocale()\n    const adapter = useDate()\n    const { isFocused, focus, blur } = useFocus(props)\n    const model = useProxiedModel(props, 'modelValue', props.multiple ? [] : null)\n    const menu = shallowRef(false)\n\n    const display = computed(() => {\n      const value = wrapInArray(model.value)\n\n      if (!value.length) return null\n\n      if (props.multiple === true) {\n        return t('$vuetify.datePicker.itemsSelected', value.length)\n      }\n\n      if (props.multiple === 'range') {\n        const start = value[0]\n        const end = value[value.length - 1]\n\n        return adapter.isValid(start) && adapter.isValid(end)\n          ? `${adapter.format(start, 'keyboardDate')} - ${adapter.format(end, 'keyboardDate')}`\n          : ''\n      }\n\n      return adapter.isValid(model.value) ? adapter.format(model.value, 'keyboardDate') : ''\n    })\n\n    const isInteractive = computed(() => !props.disabled && !props.readonly)\n\n    function onKeydown (e: KeyboardEvent) {\n      if (e.key !== 'Enter') return\n\n      if (!menu.value || !isFocused.value) {\n        menu.value = true\n\n        return\n      }\n\n      const target = e.target as HTMLInputElement\n\n      model.value = adapter.date(target.value)\n    }\n\n    function onClick (e: MouseEvent) {\n      e.preventDefault()\n      e.stopPropagation()\n\n      menu.value = true\n    }\n\n    function onSave () {\n      menu.value = false\n    }\n\n    useRender(() => {\n      const confirmEditProps = VConfirmEdit.filterProps(props)\n      const datePickerProps = VDatePicker.filterProps(omit(props, ['active']))\n      const textFieldProps = VTextField.filterProps(props)\n\n      return (\n        <VTextField\n          { ...textFieldProps }\n          class={ props.class }\n          style={ props.style }\n          modelValue={ display.value }\n          onKeydown={ isInteractive.value ? onKeydown : undefined }\n          focused={ menu.value || isFocused.value }\n          onFocus={ focus }\n          onBlur={ blur }\n          onClick:control={ isInteractive.value ? onClick : undefined }\n          onClick:prepend={ isInteractive.value ? onClick : undefined }\n        >\n          <VMenu\n            v-model={ menu.value }\n            activator=\"parent\"\n            min-width=\"0\"\n            closeOnContentClick={ false }\n            openOnClick={ false }\n          >\n            <VConfirmEdit\n              { ...confirmEditProps }\n              v-model={ model.value }\n              onSave={ onSave }\n            >\n              {{\n                default: ({ actions, model: proxyModel }) => {\n                  return (\n                    <VDatePicker\n                      { ...datePickerProps }\n                      modelValue={ props.hideActions ? model.value : proxyModel.value }\n                      onUpdate:modelValue={ val => {\n                        if (!props.hideActions) {\n                          proxyModel.value = val\n                        } else {\n                          model.value = val\n\n                          if (!props.multiple) menu.value = false\n                        }\n                      }}\n                      onMousedown={ (e: MouseEvent) => e.preventDefault() }\n                    >\n                      {{\n                        actions: !props.hideActions ? () => actions : undefined,\n                      }}\n                    </VDatePicker>\n                  )\n                },\n              }}\n            </VConfirmEdit>\n          </VMenu>\n\n          { slots.default?.() }\n        </VTextField>\n      )\n    })\n  },\n})\n\nexport type VDateInput = InstanceType<typeof VDateInput>\n"],
  "mappings": "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",
  "names": ["makeVConfirmEditProps", "propsFactory", "modelValue", "color", "String", "cancelText", "type", "default", "okText", "VConfirmEdit", "genericComponent", "name", "props", "emits", "cancel", "save", "value", "setup", "_ref", "emit", "slots", "model", "useProxiedModel", "internalModel", "ref", "watchEffect", "structuredClone", "toRaw", "t", "useLocale", "isPristine", "computed", "deepEqual", "actionsUsed", "useRender", "actions", "_createVNode", "_Fragment", "VBtn", "makeVDateInputProps", "propsFactory", "hideActions", "Boolean", "makeFocusProps", "makeVConfirmEditProps", "makeVTextFieldProps", "placeholder", "prependIcon", "omit", "makeVDatePickerProps", "weeksInMonth", "hideHeader", "VDateInput", "genericComponent", "name", "props", "emits", "val", "setup", "_ref", "slots", "t", "useLocale", "adapter", "useDate", "isFocused", "focus", "blur", "useFocus", "model", "useProxiedModel", "multiple", "menu", "shallowRef", "display", "computed", "value", "wrapInArray", "length", "start", "end", "isValid", "format", "isInteractive", "disabled", "readonly", "onKeydown", "e", "key", "target", "date", "onClick", "preventDefault", "stopPropagation", "onSave", "useRender", "confirmEditProps", "VConfirmEdit", "filterProps", "datePickerProps", "VDatePicker", "textFieldProps", "VTextField", "_createVNode", "_mergeProps", "class", "style", "undefined", "default", "VMenu", "$event", "_ref2", "actions", "proxyModel"]
}
