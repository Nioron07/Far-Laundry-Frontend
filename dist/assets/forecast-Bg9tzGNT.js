import{p as $,b1 as _,aW as U,i as R,s as N,b2 as Y,W as s,aE as G,am as K,an as W,af as X,y as J,b3 as E,U as F,z as t,aB as Z,a$ as q,ap as Q,O as ee,G as T,X as ae,Y as M,I as h,J as O,M as I,K as u,b4 as L,Z as te,a9 as P,aC as H,b5 as oe,b6 as j,H as re,a0 as le}from"./index-Dapc7A2i.js";import{_ as ne,a as V,e as B}from"./VCard-Co8inv0e.js";const se=$({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,..._({origin:"center center",scrollStrategy:"block",transition:{component:U},zIndex:2400})},"VDialog"),ie=R()({name:"VDialog",props:se(),emits:{"update:modelValue":o=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(o,v){let{emit:m,slots:b}=v;const D=N(o,"modelValue"),{scopeId:p}=Y(),l=s();function k(i){var w,y;const n=i.relatedTarget,r=i.target;if(n!==r&&((w=l.value)!=null&&w.contentEl)&&((y=l.value)!=null&&y.globalTop)&&![document,l.value.contentEl].includes(r)&&!l.value.contentEl.contains(r)){const g=Q(l.value.contentEl);if(!g.length)return;const f=g[0],x=g[g.length-1];n===f?x.focus():f.focus()}}G(()=>{document.removeEventListener("focusin",k)}),K&&W(()=>D.value&&o.retainFocus,i=>{i?document.addEventListener("focusin",k):document.removeEventListener("focusin",k)},{immediate:!0});function S(){var i;m("afterEnter"),(i=l.value)!=null&&i.contentEl&&!l.value.contentEl.contains(document.activeElement)&&l.value.contentEl.focus({preventScroll:!0})}function d(){m("afterLeave")}return W(D,async i=>{var n;i||(await X(),(n=l.value.activatorEl)==null||n.focus({preventScroll:!0}))}),J(()=>{const i=E.filterProps(o),n=F({"aria-haspopup":"dialog"},o.activatorProps),r=F({tabindex:-1},o.contentProps);return t(E,F({ref:l,class:["v-dialog",{"v-dialog--fullscreen":o.fullscreen,"v-dialog--scrollable":o.scrollable},o.class],style:o.style},i,{modelValue:D.value,"onUpdate:modelValue":w=>D.value=w,"aria-modal":"true",activatorProps:n,contentProps:r,height:o.fullscreen?void 0:o.height,width:o.fullscreen?void 0:o.width,maxHeight:o.fullscreen?void 0:o.maxHeight,maxWidth:o.fullscreen?void 0:o.maxWidth,role:"dialog",onAfterEnter:S,onAfterLeave:d},p),{activator:b.activator,default:function(){for(var w=arguments.length,y=new Array(w),g=0;g<w;g++)y[g]=arguments[g];return t(Z,{root:"VDialog"},{default:()=>{var f;return[(f=b.default)==null?void 0:f.call(b,...y)]}})}})}),q({},l)}}),ce={class:"toggle-div"},ue={class:"d-flex justify-center ma-10"},de={class:"d-flex justify-center pa-8"},ge={class:"d-flex justify-center"},me={class:"d-flex justify-center"},we={__name:"forecast",setup(o){const v=s(!0),m=s(0),b=s([]),D=s([]),p=s(),l=s(0),k=s(!1),S=s([{name:"Washers",data:b},{name:"Dryers",data:D}]),d=s({noData:{text:"Retrieving Data...",offsetY:-40,style:{color:"#EEFF41",fontSize:"50px",fontFamily:"Oxanium"}},dataLabels:{enabled:!1},colors:["#EEFF41","#FFAB00"],stroke:{curve:"straight"},chart:{toolbar:{show:!1},background:"transparent",zoom:{enabled:!1}},title:{text:"Full Day Forecast",align:"left",style:{fontFamily:"Oxanium",color:"#827717"}},grid:{row:{colors:["#242424","transparent"],opacity:.5}},xaxis:{categories:["12:00AM","1:00AM","2:00AM","3:00AM","4:00AM","5:00AM","6:00AM","7:00AM","8:00AM","9:00AM","10:00AM","11:00AM","12:00PM","1:00PM","2:00PM","3:00PM","4:00PM","5:00PM","6:00PM","7:00PM","8:00PM","9:00PM","10:00PM","11:00PM"],labels:{style:{fontFamily:"Oxanium",fontSize:"8px",colors:"#827717"}},tooltip:{enabled:!1}},yaxis:{min:0,max:15,labels:{style:{fontFamily:"Oxanium",colors:"#827717"}}},legend:{fontFamily:"Oxanium",labels:{useSeriesColors:!0},markers:{strokeWidth:0,size:8}},tooltip:{followCursor:!0,theme:!0,style:{fontFamily:"Oxanium"}},theme:{mode:"dark"},annotations:{xaxis:[{x:new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}).replace(/:\d{2}/,":00").toUpperCase().replace(" ",""),strokeDashArray:7,borderColor:"#E65100",label:{borderColor:"#E65100",style:{color:"#fff",background:"#E65100",fontFamily:"Oxanium"},text:"Current Time"}},{x:"",strokeDashArray:7,borderColor:"#4A148C",label:{borderColor:"#4A148C",style:{color:"#fff",background:"#4A148C",fontFamily:"Oxanium"},text:"Washer High"}},{x:"",strokeDashArray:7,borderColor:"#EA80FC",label:{borderColor:"#EA80FC",style:{color:"#fff",background:"#EA80FC",fontFamily:"Oxanium"},text:"Washer Low"}},{x:"",strokeDashArray:7,borderColor:"#1B5E20",label:{borderColor:"#1B5E20",style:{color:"#fff",background:"#1B5E20",fontFamily:"Oxanium"},text:"Dryer High"}},{x:"",strokeDashArray:7,borderColor:"#43A047",label:{borderColor:"#43A047",style:{color:"#fff",background:"#43A047",fontFamily:"Oxanium"},text:"Dryer Low"}}]}});async function i(C){var a=new Date().getDate().toString();a!=window.localStorage.getItem("currentDay")&&(D.value=[],b.value=[],await(await fetch("https://backend-1047148175119.us-central1.run.app/today/0")).json().then(e=>{window.localStorage.setItem("dayWasherDataOg",Object.values(e["Washing Machines"].Predictions).toString()),window.localStorage.setItem("dayDryerDataOg",Object.values(e.Dryers.Predictions).toString()),window.localStorage.setItem("dayWashHighOg",e["Washing Machines"].High),window.localStorage.setItem("dayWashLowOg",e["Washing Machines"].Low),window.localStorage.setItem("dayDryHighOg",e.Dryers.High),window.localStorage.setItem("dayDryLowOg",e.Dryers.Low)}),await(await fetch("https://backend-1047148175119.us-central1.run.app/today/1")).json().then(e=>{window.localStorage.setItem("dayWasherDataTr",Object.values(e["Washing Machines"].Predictions).toString()),window.localStorage.setItem("dayDryerDataTr",Object.values(e.Dryers.Predictions).toString()),window.localStorage.setItem("dayWashHighTr",e["Washing Machines"].High),window.localStorage.setItem("dayWashLowTr",e["Washing Machines"].Low),window.localStorage.setItem("dayDryHighTr",e.Dryers.High),window.localStorage.setItem("dayDryLowTr",e.Dryers.Low)}),await(await fetch("https://backend-1047148175119.us-central1.run.app/currentTime")).json().then(e=>{window.localStorage.setItem("currentTime",e.Time)}));var c=new Date().getHours().toString()%12;c==0&&(c=12),c!=window.localStorage.getItem("currentTime").split(" ")[1].split(":")[0]&&await(await fetch("https://backend-1047148175119.us-central1.run.app/currentTime")).json().then(e=>{window.localStorage.setItem("currentTime",e.Time)}),d.value.annotations.xaxis[0].x=window.localStorage.getItem("currentTime").split(" ")[1],C==0?(S.value[0].data=window.localStorage.getItem("dayWasherDataOg").split(","),S.value[1].data=window.localStorage.getItem("dayDryerDataOg").split(","),d.value.annotations.xaxis[1].x=window.localStorage.getItem("dayWashHighOg"),d.value.annotations.xaxis[2].x=window.localStorage.getItem("dayWashLowOg"),d.value.annotations.xaxis[3].x=window.localStorage.getItem("dayDryHighOg"),d.value.annotations.xaxis[4].x=window.localStorage.getItem("dayDryLowOg")):(S.value[0].data=window.localStorage.getItem("dayWasherDataTr").split(","),S.value[1].data=window.localStorage.getItem("dayDryerDataTr").split(","),d.value.annotations.xaxis[1].x=window.localStorage.getItem("dayWashHighTr"),d.value.annotations.xaxis[2].x=window.localStorage.getItem("dayWashLowTr"),d.value.annotations.xaxis[3].x=window.localStorage.getItem("dayDryHighTr"),d.value.annotations.xaxis[4].x=window.localStorage.getItem("dayDryLowTr"))}i(m.value);const n=s([{name:"Washers",data:[]},{name:"Dryers",data:[]}]),r=s({noData:{text:"Retrieving Data...",offsetY:-30,style:{color:"#EEFF41",fontSize:"50px",fontFamily:"Oxanium"}},dataLabels:{enabled:!1},colors:["#EEFF41","#FFAB00"],stroke:{curve:"straight"},chart:{background:"transparent",toolbar:{offsetX:-30,tools:{pan:!1,download:!1}}},title:{text:"7-Day Forecast",align:"left",style:{fontFamily:"Oxanium",color:"#827717"}},grid:{row:{colors:["#242424","transparent"],opacity:.5}},xaxis:{categories:[],labels:{show:!1},labels:{rotate:0,style:{fontFamily:"Oxanium",fontSize:"8px",colors:"#827717"}}},yaxis:{min:0,max:15,labels:{style:{fontFamily:"Oxanium",colors:"#827717"}}},legend:{fontFamily:"Oxanium",labels:{useSeriesColors:!0},markers:{strokeWidth:0,size:8}},tooltip:{followCursor:!0,theme:!0,style:{fontFamily:"Oxanium"}},theme:{mode:"dark"},annotations:{xaxis:[{x:"",strokeDashArray:7,borderColor:"#E65100",label:{borderColor:"#E65100",style:{color:"#fff",background:"#E65100",fontFamily:"Oxanium"},text:"Current Time"}},{x:"",strokeDashArray:7,borderColor:"#4A148C",label:{borderColor:"#4A148C",style:{color:"#fff",background:"#4A148C",fontFamily:"Oxanium"},text:"Washer High"}},{x:"",strokeDashArray:7,borderColor:"#EA80FC",label:{borderColor:"#EA80FC",style:{color:"#fff",background:"#EA80FC",fontFamily:"Oxanium"},text:"Washer Low"}},{x:"",strokeDashArray:7,borderColor:"#1B5E20",label:{borderColor:"#1B5E20",style:{color:"#fff",background:"#1B5E20",fontFamily:"Oxanium"},text:"Dryer High"}},{x:"",strokeDashArray:7,borderColor:"#43A047",label:{borderColor:"#43A047",style:{color:"#fff",background:"#43A047",fontFamily:"Oxanium"},text:"Dryer Low"}}]}});function w(){i(m.value),g(m.value)}const y=s("100%");async function g(C){var a=new Date().getDate().toString();a!=window.localStorage.getItem("currentDay")&&(n.value[0].data=[],n.value[1].data=[],await(await fetch("https://backend-1047148175119.us-central1.run.app/week/0")).json().then(e=>{window.localStorage.setItem("currentDay",new Date().getDate().toString()),window.localStorage.setItem("currentTime",e["Current Time"]),window.localStorage.setItem("weekWasherDataOg",Object.values(e["Washing Machines"]).slice(0,Object.values(e["Washing Machines"]).length-2).toString()),window.localStorage.setItem("weekDryerDataOg",Object.values(e.Dryers).slice(0,Object.values(e["Washing Machines"]).length-2).toString()),window.localStorage.setItem("weekChartLabels",Object.keys(e.Dryers).slice(0,Object.values(e["Washing Machines"]).length-2).toString()),window.localStorage.setItem("weekWashHighOg",e["Washing Machines"].High),window.localStorage.setItem("weekWashLowOg",e["Washing Machines"].Low),window.localStorage.setItem("weekDryHighOg",e.Dryers.High),window.localStorage.setItem("weekDryLowOg",e.Dryers.Low)}),await(await fetch("https://backend-1047148175119.us-central1.run.app/week/1")).json().then(e=>{window.localStorage.setItem("weekWasherDataTr",Object.values(e["Washing Machines"]).slice(0,Object.values(e["Washing Machines"]).length-2).toString()),window.localStorage.setItem("weekDryerDataTr",Object.values(e.Dryers).slice(0,Object.values(e["Washing Machines"]).length-2).toString()),window.localStorage.setItem("weekWashHighTr",e["Washing Machines"].High),window.localStorage.setItem("weekWashLowTr",e["Washing Machines"].Low),window.localStorage.setItem("weekDryHighTr",e.Dryers.High),window.localStorage.setItem("weekDryLowTr",e.Dryers.Low)}),await(await fetch("https://backend-1047148175119.us-central1.run.app/currentTime")).json().then(e=>{window.localStorage.setItem("currentTime",e.Time)}),y.value="101%");var c=new Date().getHours().toString()%12;c==0&&(c=12),c!=window.localStorage.getItem("currentTime").split(" ")[1].split(":")[0]&&await(await fetch("https://backend-1047148175119.us-central1.run.app/currentTime")).json().then(e=>{window.localStorage.setItem("currentTime",e.Time)}),r.value.annotations.xaxis[0].x=window.localStorage.getItem("currentTime"),r.value.xaxis.categories=window.localStorage.getItem("weekChartLabels").split(","),C==0?(n.value[0].data=window.localStorage.getItem("weekWasherDataOg").split(","),n.value[1].data=window.localStorage.getItem("weekDryerDataOg").split(","),r.value.annotations.xaxis[1].x=window.localStorage.getItem("weekWashHighOg"),r.value.annotations.xaxis[2].x=window.localStorage.getItem("weekWashLowOg"),r.value.annotations.xaxis[3].x=window.localStorage.getItem("weekDryHighOg"),r.value.annotations.xaxis[4].x=window.localStorage.getItem("weekDryLowOg")):(n.value[0].data=window.localStorage.getItem("weekWasherDataTr").split(","),n.value[1].data=window.localStorage.getItem("weekDryerDataTr").split(","),r.value.annotations.xaxis[1].x=window.localStorage.getItem("weekWashHighTr"),r.value.annotations.xaxis[2].x=window.localStorage.getItem("weekWashLowTr"),r.value.annotations.xaxis[3].x=window.localStorage.getItem("weekDryHighTr"),r.value.annotations.xaxis[4].x=window.localStorage.getItem("weekDryLowTr"))}g(m.value);const f=s([{name:"Washers",data:[]},{name:"Dryers",data:[]}]),x=s({noData:{text:"Retrieving Data...",offsetY:-40,style:{color:"#EEFF41",fontSize:"50px",fontFamily:"Oxanium"}},dataLabels:{enabled:!1},colors:["#EEFF41","#FFAB00"],stroke:{curve:"straight"},chart:{toolbar:{show:!1},background:"transparent",zoom:{enabled:!1}},title:{text:"",align:"left",style:{fontFamily:"Oxanium",color:"#827717"}},grid:{row:{colors:["#242424","transparent"],opacity:.5}},xaxis:{categories:["12:00AM","1:00AM","2:00AM","3:00AM","4:00AM","5:00AM","6:00AM","7:00AM","8:00AM","9:00AM","10:00AM","11:00AM","12:00PM","1:00PM","2:00PM","3:00PM","4:00PM","5:00PM","6:00PM","7:00PM","8:00PM","9:00PM","10:00PM","11:00PM"],labels:{style:{fontFamily:"Oxanium",fontSize:"8px",colors:"#827717"}},tooltip:{enabled:!1}},yaxis:{min:0,max:15,labels:{style:{fontFamily:"Oxanium",colors:"#827717"}}},legend:{fontFamily:"Oxanium",labels:{useSeriesColors:!0},markers:{strokeWidth:0,size:8}},tooltip:{followCursor:!0,theme:!0,style:{fontFamily:"Oxanium"}},theme:{mode:"dark"},annotations:{xaxis:[{x:new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}).replace(/:\d{2}/,":00").toUpperCase().replace(" ",""),strokeDashArray:7,borderColor:"#E65100",label:{borderColor:"#E65100",style:{color:"#fff",background:"#E65100",fontFamily:"Oxanium"},text:"Current Time"}},{x:"",strokeDashArray:7,borderColor:"#4A148C",label:{borderColor:"#4A148C",style:{color:"#fff",background:"#4A148C",fontFamily:"Oxanium"},text:"Washer High"}},{x:"",strokeDashArray:7,borderColor:"#EA80FC",label:{borderColor:"#EA80FC",style:{color:"#fff",background:"#EA80FC",fontFamily:"Oxanium"},text:"Washer Low"}},{x:"",strokeDashArray:7,borderColor:"#1B5E20",label:{borderColor:"#1B5E20",style:{color:"#fff",background:"#1B5E20",fontFamily:"Oxanium"},text:"Dryer High"}},{x:"",strokeDashArray:7,borderColor:"#43A047",label:{borderColor:"#43A047",style:{color:"#fff",background:"#43A047",fontFamily:"Oxanium"},text:"Dryer Low"}}]}});async function z(){k.value=!0;let C=p.value,a=C.getDate(),c=C.getMonth()+1;await(await fetch(`https://backend-1047148175119.us-central1.run.app/day/${m.value}/dayOfMonth/${a}/month/${c}`)).json().then(e=>{f.value[0].data=Object.values(e["Washing Machines"].Predictions),f.value[1].data=Object.values(e.Dryers.Predictions),x.value.annotations.xaxis[1].x=e["Washing Machines"].High,x.value.annotations.xaxis[2].x=e["Washing Machines"].Low,x.value.annotations.xaxis[3].x=e.Dryers.High,x.value.annotations.xaxis[4].x=e.Dryers.Low}),x.value.title.text=`Forecast for ${p.value.toString().slice(0,15)}`,l.value=l.value+1,k.value=!1,v.value=!1}return(C,a)=>{const c=ee("apexchart");return T(),ae(le,null,[M("div",ce,[t(te,{modelValue:u(m),"onUpdate:modelValue":a[2]||(a[2]=e=>L(m)?m.value=e:null),mandatory:"",shaped:"",color:"lime-darken-4"},{default:h(()=>[t(O,{onClick:a[0]||(a[0]=e=>w()),value:0},{default:h(()=>a[7]||(a[7]=[I(" Oglesby ")])),_:1}),t(O,{onClick:a[1]||(a[1]=e=>w()),value:1},{default:h(()=>a[8]||(a[8]=[I(" Trelease ")])),_:1})]),_:1},8,["modelValue"])]),t(c,{class:"day-chart",type:"area",series:u(S),options:u(d),width:"100%",height:"36%"},null,8,["series","options"]),t(c,{class:"week-chart",type:"area",series:u(n),options:u(r),width:u(y),height:"36%"},null,8,["series","options","width"]),M("div",ue,[t(ie,{"max-width":"1000",persistent:""},{activator:h(({props:e})=>[t(O,F({"prepend-icon":"mdi-chart-box-plus-outline",stacked:"",color:"lime-darken-4"},e,{onClick:a[3]||(a[3]=A=>v.value=!0)}),{default:h(()=>a[9]||(a[9]=[I(" Custom Chart ")])),_:2},1040)]),default:h(({isActive:e})=>[P(t(V,{class:"chartCard",rounded:"xl"},{default:h(()=>[M("div",null,[M("div",de,[t(oe,{modelValue:u(p),"onUpdate:modelValue":a[4]||(a[4]=A=>L(p)?p.value=A:null),color:"lime-darken-4",elevation:"15",rounded:"xl","show-adjacent-months":"",width:"1000"},null,8,["modelValue"])]),M("div",ge,[t(O,{color:"lime-darken-4",elevation:"15",rounded:"pill",text:"Get Forecast",class:"dateSelect",onClick:a[5]||(a[5]=A=>z()),loading:u(k)},null,8,["loading"])]),t(B,{class:"pa-3"},{default:h(()=>[t(j),t(O,{text:"Close",onClick:A=>e.value=!1},null,8,["onClick"])]),_:2},1024)])]),_:2},1536),[[H,u(v)]]),P(t(V,{class:"graphCard pa-1",rounded:"xl"},{default:h(()=>[(T(),re(c,{class:"custom-chart",type:"area",key:u(l),series:u(f),options:u(x),height:"513"},null,8,["series","options"])),M("div",me,[t(O,{color:"lime-darken-4",elevation:"15",rounded:"pill",text:"Pick another date",class:"dateSelect",onClick:a[6]||(a[6]=A=>v.value=!0)})]),t(B,{class:"pa-2"},{default:h(()=>[t(j),t(O,{text:"Close",onClick:A=>e.value=!1},null,8,["onClick"])]),_:2},1024)]),_:2},1536),[[H,!u(v)]])]),_:1})])],64)}}},ye=ne(we,[["__scopeId","data-v-764bfd67"]]);export{ye as default};
